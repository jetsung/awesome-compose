import{_ as i,o as a,c as e,aj as t}from"./chunks/framework.DpVzuYkC.js";const c=JSON.parse('{"title":"EMQX","description":"","frontmatter":{},"headers":[],"relativePath":"emqx/index.md","filePath":"emqx/README.md"}'),h={name:"emqx/index.md"};function l(n,s,k,p,r,d){return a(),e("div",null,[...s[0]||(s[0]=[t(`<h1 id="emqx" tabindex="-1">EMQX <a class="header-anchor" href="#emqx" aria-label="Permalink to “EMQX”">​</a></h1><p><a href="https://www.emqx.com/" target="_blank" rel="noreferrer">Office Web</a> - <a href="https://github.com/emqx/emqx" target="_blank" rel="noreferrer">Source</a> - <a href="https://hub.docker.com/r/emqx/emqx" target="_blank" rel="noreferrer">Docker Image</a> - <a href="https://docs.emqx.com/" target="_blank" rel="noreferrer">Document</a></p><hr><blockquote><p><a href="https://www.emqx.com/" target="_blank" rel="noreferrer">EMQX</a> 是一款「无限连接，任意集成，随处运行」的大规模分布式物联网接入平台，同时作为一个高性能、可扩展的 MQTT 消息服务器，它可以为物联网（IoT）应用提供可靠的实时消息传输和设备连接解决方案。EMQX 累计拥有来自 50 多个国家的 20,000 多家企业用户，连接全球超过 1 亿台物联网设备，服务企业数字化、实时化、智能化转型。</p></blockquote><hr><h2 id="配置" tabindex="-1">配置 <a class="header-anchor" href="#配置" aria-label="Permalink to “配置”">​</a></h2><ul><li><p>放开端口：<code>1883,8883,8083,8084,18083,18084</code></p></li><li><p>配置文件：<code>/opt/emqx/etc/emqx.conf</code></p></li><li><p><a href="https://docs.emqx.com/zh/emqx/latest/configuration/dashboard.html" target="_blank" rel="noreferrer">环境变量</a></p></li><li><p><a href="https://docs.emqx.com/zh/emqx/latest/dashboard/introduction.html#%E9%A6%96%E6%AC%A1%E7%99%BB%E5%BD%95" target="_blank" rel="noreferrer">首次登录</a></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">默认账号：admin</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">默认密码：public</span></span></code></pre></div></li><li><p><a href="https://docs.emqx.com/zh/emqx/latest/dashboard/introduction.html#%E5%BF%98%E8%AE%B0%E5%AF%86%E7%A0%81" target="_blank" rel="noreferrer">忘记密码</a></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -it</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> emqx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> emqx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> admins</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> passwd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Usernam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Passwor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -it</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> emqx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> emqx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> admin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Usernam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">New</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Passwor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div></li><li><p><a href="https://docs.emqx.com/zh/emqx/latest/network/emqx-mqtt-tls.html" target="_blank" rel="noreferrer">TLS 配置（MQTTS）</a> （<strong>单向</strong>）</p><ol><li>修改 <code>.env</code> 配置文件，去除 <code>#</code> 注释</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EMQX_LISTENERS__SSL__DEFAULT__BIND</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">0.0.0.0:8883</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EMQX_LISTENERS__SSL__DEFAULT__SSL_OPTIONS__KEYFILE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/etc/emqx/certs/emqx.key</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EMQX_LISTENERS__SSL__DEFAULT__SSL_OPTIONS__CERTFILE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/etc/emqx/certs/emqx.cer</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EMQX_LISTENERS__SSL__DEFAULT__SSL_OPTIONS__CACERTFILE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EMQX_LISTENERS__SSL__DEFAULT__SSL_OPTIONS__VERIFY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">verify_none</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EMQX_LISTENERS__SSL__DEFAULT__SSL_OPTIONS__FAIL_IF_NO_PEER_CERT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">false</span></span></code></pre></div><ol start="2"><li>将以下的证书对应的 key 和 cer 路径替换为自己的证书路径</li></ol><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">volumes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/srv/acme/ssl/emqx.io.key:/etc/emqx/certs/emqx.key</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/srv/acme/ssl/emqx.io.fullchain.cer:/etc/emqx/certs/emqx.cer</span></span></code></pre></div></li><li><p><a href="https://docs.emqx.com/zh/emqx/latest/configuration/listener.html#%E9%85%8D%E7%BD%AE%E5%AE%89%E5%85%A8-websocket-%E7%9B%91%E5%90%AC%E5%99%A8" target="_blank" rel="noreferrer">WSS 配置</a></p><ol><li>修改 <code>.env</code> 配置文件，去除 <code>#</code> 注释</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EMQX_LISTENERS__WSS__DEFAULT__BIND</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">0.0.0.0:8084</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EMQX_LISTENERS__WSS__DEFAULT__MAX_CONNECTIONS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">1024000</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EMQX_LISTENERS__WSS__DEFAULT__WEBSOCKET__MQTT_PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/mqtt&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EMQX_LISTENERS__WSS__DEFAULT__SSL_OPTIONS__CERTFILE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/etc/emqx/certs/emqx.cer</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EMQX_LISTENERS__WSS__DEFAULT__SSL_OPTIONS__KEYFILE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/etc/emqx/certs/emqx.key</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EMQX_LISTENERS__WSS__DEFAULT__SSL_OPTIONS__CACERTFILE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span></span></code></pre></div></li><li><p><a href="https://docs.emqx.com/zh/emqx/latest/configuration/dashboard.html" target="_blank" rel="noreferrer">DASHBOARD 配置</a></p><ol><li>修改 <code>.env</code> 配置文件，去除 <code>#</code> 注释</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#EMQX_DASHBOARD__LISTENERS__HTTPS__BIND=0.0.0.0:18084</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#EMQX_DASHBOARD__LISTENERS__HTTPS__SSL_OPTIONS__CERTFILE=/etc/emqx/certs/emqx.cer</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#EMQX_DASHBOARD__LISTENERS__HTTPS__SSL_OPTIONS__KEYFILE=/etc/emqx/certs/emqx.key</span></span></code></pre></div></li></ul><h2 id="运行" tabindex="-1">运行 <a class="header-anchor" href="#运行" aria-label="Permalink to “运行”">​</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 777</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./data</span></span></code></pre></div><h2 id="客户端连接密码设置" tabindex="-1">客户端连接密码设置 <a class="header-anchor" href="#客户端连接密码设置" aria-label="Permalink to “客户端连接密码设置”">​</a></h2><ul><li><a href="https://docs.emqx.com/zh/emqx/latest/access-control/authn/mnesia.html" target="_blank" rel="noreferrer">https://docs.emqx.com/zh/emqx/latest/access-control/authn/mnesia.html</a></li></ul>`,11)])])}const o=i(h,[["render",l]]);export{c as __pageData,o as default};
